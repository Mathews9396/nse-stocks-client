(this["webpackJsonpstocks-app"]=this["webpackJsonpstocks-app"]||[]).push([[0],{12:function(e,t,c){},17:function(e,t,c){},29:function(e,t,c){},37:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(30),r=c.n(s),o=(c(37),c(12),c(4)),i=c(3),l=c(0);var j=function(){return Object(l.jsxs)("div",{className:"stock-management",children:[Object(l.jsx)("h1",{children:"Manage stocks"}),Object(l.jsxs)("ul",{className:"stock-management-items",children:[Object(l.jsx)(o.b,{to:"/stocks/all",className:"stock-management-item",children:Object(l.jsx)("h2",{children:"Display all Stocks"})}),Object(l.jsx)(o.b,{to:"/stocks/find",className:"stock-management-item",children:Object(l.jsx)("h2",{children:"Search for a Stocks"})})]})]})},h=c(5),d=c.n(h),u=c(10),b=c(2),O=c(32),x=c.n(O).a.create({baseURL:"https://nse-stocks-test.herokuapp.com/",headers:{"Content-type":"application/json"}});var m=function(){try{Object(n.useEffect)((function(){s()}),[]);var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/stocks/all",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e.data.data),a(e.data.data)})).catch((function(e){alert("Need to authenticate to access this page")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"allstocks",children:c.map((function(e){return Object(l.jsx)(o.b,{to:"/stocks/all/".concat(e.Sl_No),className:"stock-name-link",children:Object(l.jsx)("h4",{className:"stock-name",children:Object(l.jsxs)("button",{className:"button-stock",children:[e.Sl_No,Object(l.jsx)("br",{}),e.Name]})},e.Sl_No)})}))})}catch(r){throw r}};var p=function(e){var t=e.match;Object(n.useEffect)((function(){o()}),[]);var c=Object(n.useState)({}),a=Object(b.a)(c,2),s=a[0],r=a[1];console.log(t);var o=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("stocks/all/".concat(t.params.id),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data.data[0];r(t)})).catch((function(e){alert("Need to authenticate to access this page")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"stock-detail",children:[Object(l.jsx)("h1",{children:s.Name}),Object(l.jsxs)("table",{className:"stock-details-table",children:[Object(l.jsxs)("tr",{className:"stock-table-heading",children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Current Market Price"}),Object(l.jsx)("th",{children:"Market Cap"}),Object(l.jsx)("th",{children:"Stock P/E"}),Object(l.jsx)("th",{children:"Dividend Yield"}),Object(l.jsx)("th",{children:"ROCE %"}),Object(l.jsx)("th",{children:"ROE Previous Annum"}),Object(l.jsx)("th",{children:"Debt to Equity"}),Object(l.jsx)("th",{children:"EPS"}),Object(l.jsx)("th",{children:"Reserves"}),Object(l.jsx)("th",{children:"Debt"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:s.Name}),Object(l.jsx)("th",{children:s.Market_Price}),Object(l.jsx)("th",{children:s.Market_Cap}),Object(l.jsx)("th",{children:s.Stock}),Object(l.jsx)("th",{children:s.Dividend}),Object(l.jsx)("th",{children:s.ROCE}),Object(l.jsx)("th",{children:s.ROE}),Object(l.jsx)("th",{children:s.DebtToEquity}),Object(l.jsx)("th",{children:s.EPS}),Object(l.jsx)("th",{children:s.Reserves}),Object(l.jsx)("th",{children:s.Debt})]})]})]})};c(29);var f=function(e){var t=e.keyword;Object(n.useEffect)((function(){O()}),[]);var c=Object(n.useState)({}),a=Object(b.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)("inactive"),i=Object(b.a)(o,2),j=i[0],h=i[1],O=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("searching for",t),e.next=3,x.get("stocks/find/".concat(t),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(console.log(e.data),"no records found"===e.data.message)alert("no records found under this keyword"),h("noRecords");else{var t=e.data.data[0];console.log(t),h("active"),r(t)}})).catch((function(e){throw alert("Need to authenticate to search"),e}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:["active"===j&&Object(l.jsxs)("div",{className:"stock-detail",children:[Object(l.jsx)("h1",{children:s.Name}),Object(l.jsxs)("table",{className:"stock-details-table",children:[Object(l.jsxs)("tr",{className:"stock-table-heading",children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Current Market Price"}),Object(l.jsx)("th",{children:"Market Cap"}),Object(l.jsx)("th",{children:"Stock P/E"}),Object(l.jsx)("th",{children:"Dividend Yield"}),Object(l.jsx)("th",{children:"ROCE %"}),Object(l.jsx)("th",{children:"ROE Previous Annum"}),Object(l.jsx)("th",{children:"Debt to Equity"}),Object(l.jsx)("th",{children:"EPS"}),Object(l.jsx)("th",{children:"Reserves"}),Object(l.jsx)("th",{children:"Debt"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:s.Name}),Object(l.jsx)("th",{children:s.Market_Price}),Object(l.jsx)("th",{children:s.Market_Cap}),Object(l.jsx)("th",{children:s.Stock}),Object(l.jsx)("th",{children:s.Dividend}),Object(l.jsx)("th",{children:s.ROCE}),Object(l.jsx)("th",{children:s.ROE}),Object(l.jsx)("th",{children:s.DebtToEquity}),Object(l.jsx)("th",{children:s.EPS}),Object(l.jsx)("th",{children:s.Reserves}),Object(l.jsx)("th",{children:s.Debt})]})]})]}),"inactive"===j&&Object(l.jsx)("div",{}),"noRecords"===j&&Object(l.jsx)("h3",{children:"No records found"})]})};var v=function(e){var t=e.keyword,c=Object(n.useState)([]),a=Object(b.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(!1),j=Object(b.a)(i,2);j[0],j[1],Object(n.useEffect)((function(){h()}),[t]);var h=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("stocks/find/".concat(t),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if("no records found"===e.data.message)console.log(e.data.message);else{var t=e.data.data,c=[];for(var n in t){var a=t[n].Name;c.push(a)}r(c)}})).catch((function(e){throw alert("Need to authenticate to search"),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{children:s.map((function(e){return Object(l.jsx)(o.b,{className:"stock-suggestions",children:Object(l.jsx)("h4",{className:"stock-suggestion",children:Object(l.jsx)("div",{className:"stock-suggestion-item",children:e})},e)})}))})};var k=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("inactive"),r=Object(b.a)(s,2),i=r[0],j=r[1],h=function(){console.log("search clicked"),j("active")};return Object(l.jsxs)("div",{className:"search-stocks",children:[Object(l.jsx)("h1",{className:"search-stocks-heading",children:"Search for a company"}),Object(l.jsx)("input",{className:"search-bar",value:c,placeholder:"search stocks",onChange:function(e){a(e.target.value),j("inactive")}},"random1"),Object(l.jsx)(o.b,{to:"/stocks/find/".concat(c),onClick:h,className:"search-stock-button",children:Object(l.jsx)("button",{className:"search-stock-button",onClick:h,children:"Search"})}),Object(l.jsx)("div",{className:"auto-complete",children:""!==c&&"inactive"===i&&Object(l.jsx)(v,{keyword:c})}),Object(l.jsx)("div",{children:"active"===i&&Object(l.jsx)(f,{keyword:c})})]})};var g=function(){return Object(l.jsxs)("nav",{children:[Object(l.jsx)("h1",{children:"NSE-Stocks"}),Object(l.jsxs)("ul",{className:"nav-links",children:[Object(l.jsx)(o.c,{to:"/welcome",className:"nav-link",activeClassName:"nav-link-active",children:Object(l.jsx)("li",{children:"Home"})}),Object(l.jsx)(o.c,{to:"/stocks",className:"nav-link",activeClassName:"nav-link-active",children:Object(l.jsx)("li",{children:"Stocks"})}),Object(l.jsx)(o.c,{to:"/user",className:"nav-link",activeClassName:"nav-link-active",children:Object(l.jsx)("li",{children:"Database"})})]})]})};var N=function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/user/delete-table",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){})).catch((function(e){throw console.log("error - ",e),alert("Need to authenticate to use this page"),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/user/add-data",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){})).catch((function(e){throw console.log("error - ",e),alert("Need to authenticate to use this page"),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/user/delete-data",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e)})).catch((function(e){throw alert("Need to authenticate to use this"),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"user-management",children:[Object(l.jsx)("h3",{className:"user-management-heading",children:"Manage the Database"}),Object(l.jsxs)("ul",{className:"user-buttons",children:[Object(l.jsx)(o.b,{to:"/user/create-table",onClick:function(){x.post("/user/create-table",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e)})).catch((function(e){throw alert("Login to use this function"),e}))},children:Object(l.jsx)("li",{children:"Create Stock Table"})}),Object(l.jsx)(o.b,{to:"/user/add-data",onClick:t,children:Object(l.jsx)("li",{children:"Import Stock Data"})}),Object(l.jsx)(o.b,{to:"/user/delete-data",onClick:c,children:Object(l.jsx)("li",{children:"Delete Stock Data"})}),Object(l.jsx)(o.b,{to:"/user/delete-table",onClick:e,children:Object(l.jsx)("li",{children:"Delete Stock Table"})})]})]})};c(17);var S=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(b.a)(s,2),o=r[0],i=r[1];return Object(l.jsxs)("div",{className:"registration wrapper-1",children:[Object(l.jsx)("h3",{heading:"auth-form",children:"Create an Account"}),Object(l.jsxs)("div",{className:"authentication-form",children:[Object(l.jsxs)("div",{className:"username-form",children:[Object(l.jsx)("label",{className:"input-label",children:"Username"}),Object(l.jsx)("form",{children:Object(l.jsx)("input",{type:"text",className:"input-box-1",onChange:function(e){a(e.target.value)}})})]}),Object(l.jsxs)("div",{className:"password-form",children:[Object(l.jsx)("label",{className:"input-label",children:"Password"}),Object(l.jsx)("form",{children:Object(l.jsx)("input",{type:"password",className:"input-box-2",onChange:function(e){i(e.target.value)}})})]}),Object(l.jsx)("button",{className:"submit-button",onClick:function(){x.post("/register",{username:c,password:o}).then((function(e){console.log(e.data),alert(e.data.message)})).catch((function(e){throw console.log("error - ",e),e}))},children:"Sign up"})]})]})};var w=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(b.a)(s,2),o=r[0],i=r[1],j=Object(n.useState)("unauthorized"),h=Object(b.a)(j,2),d=h[0],u=h[1];return Object(l.jsxs)("div",{className:"login wrapper 2",children:[Object(l.jsx)("h3",{heading:"auth-form",children:"Login to your Account"}),Object(l.jsxs)("div",{className:"authentication-form",children:[Object(l.jsxs)("div",{className:"username-form",children:[Object(l.jsx)("label",{className:"input-label",children:"Username"}),Object(l.jsx)("form",{children:Object(l.jsx)("input",{value:c,type:"text",placeholder:"username",className:"input-box-1",onChange:function(e){a(e.target.value)}})})]}),Object(l.jsxs)("div",{className:"password-form",children:[Object(l.jsx)("label",{className:"input-label",children:"Password"}),Object(l.jsx)("form",{children:Object(l.jsx)("input",{value:o,placeholder:"password",type:"password",className:"input-box-2",onChange:function(e){i(e.target.value)}})})]}),Object(l.jsx)("button",{className:"submit-button",onClick:function(){x.post("/login",{username:c,password:o}).then((function(e){console.log(e),0!==e.data.length?(u("authenticated"),localStorage.setItem("token",JSON.stringify(e.data.token)),alert("User authenticated"),a(""),i("")):(u("no-user"),a(""),i(""))})).catch((function(e){throw u("no-user"),a(""),i(""),e}))},children:"Sign in"})]}),"authenticated"===d&&Object(l.jsx)("h3",{children:"Logged in Successfully!"}),"no-user"===d&&Object(l.jsx)("h3",{children:"User not found - Check your credentials or create an account"})]})};var y=function(){var e=Object(n.useState)("login"),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(l.jsxs)("div",{className:"welcome main-container",children:[Object(l.jsx)("div",{className:"welcome-message",children:Object(l.jsxs)("h2",{children:["Welcome to ",Object(l.jsx)("hr",{className:"line-break"}),"NSE-Stocks"]})}),Object(l.jsxs)("div",{className:"authentication",children:[Object(l.jsx)("h3",{className:"authentication-header",children:"Create an account or login with your existing account"}),Object(l.jsxs)("div",{align:"center",className:"auth-form",children:[Object(l.jsxs)("div",{className:"auth-form-buttons",children:[Object(l.jsx)("div",{className:"auth-form-button",children:Object(l.jsx)("button",{className:"register-button",onClick:function(){a("register")},children:"Register"})}),Object(l.jsx)("div",{className:"auth-form-button",children:Object(l.jsx)("button",{className:"login-button",onClick:function(){a("login")},children:"Login"})})]}),Object(l.jsxs)("div",{children:["login"===c&&Object(l.jsx)(w,{}),"register"===c&&Object(l.jsx)(S,{})]})]})]})]})};var C=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(g,{}),Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/",exact:!0,children:Object(l.jsx)(i.a,{to:"/welcome"})}),Object(l.jsx)(i.b,{path:"/welcome",exact:!0,children:Object(l.jsx)(y,{})}),Object(l.jsx)(i.b,{path:"/stocks",exact:!0,component:j}),Object(l.jsx)(i.b,{path:"/stocks/all",exact:!0,component:m}),Object(l.jsx)(i.b,{path:"/stocks/all/:id",component:p}),Object(l.jsx)(i.b,{path:"/stocks/find",component:k}),Object(l.jsx)(i.b,{path:"/stocks/find/:name",component:f}),Object(l.jsx)(i.b,{path:"/user",component:N})]})]})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),E()}},[[63,1,2]]]);
//# sourceMappingURL=main.51430673.chunk.js.map